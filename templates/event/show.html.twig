{% extends 'base.html.twig' %}

{% block title %}{{ event.title }}{% endblock %}

{% block body %}
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h1>{{ event.title }}</h1>
        <div>
            {% if is_granted('edit_event', event) %}
                <a href="{{ path('event_edit', { id: event.id }) }}" class="btn btn-primary">
                    <i class="fa fa-edit"></i>&nbsp;{{ 'event.show.actions.edit'|trans }}
                </a>
            {% endif %}
        </div>
    </div>

    <p class="text-muted">
        {{ format_date(event.startAt) }}

        {% if event.recurrenceRule %}
            (<small class="text-lowercase fst-italic" id="event-recurrence" data-locale="{{ app.locale }}" data-rrule="{{ event.recurrenceRule }}"></small>)
        {% endif %}
    </p>

    <div class="row">
        <div class="col-md-{% if event.posterFilename|default %}9{% else %}12{% endif %}">
            <div class="card mb-4">
                <div class="card-header">
                    {{ event.shortDescription|raw }}
                </div>
                <div class="card-body">
                    {{ event.longDescription|raw }}
                </div>
            </div>
        </div>

        {% if event.posterFilename|default %}
            <div class="col-md-3">
                <div class="text-center">
                    <img src="{{ asset('/uploads/' ~ event.posterFilename) }}" alt="{{ event.title }}" class="img-fluid img-responsive">
                </div>
            </div>
        {% endif %}
    </div>

    <p class="mt-3">
        <a href="{{ path('association_show', { slug: event.association.slug }) }}">
            {{ 'event.show.back'|trans({'%association%': event.association.name}) }}
        </a>
    </p>
{% endblock %}
